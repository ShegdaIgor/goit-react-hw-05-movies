"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[729],{729:function(t,e,r){r.r(e),r.d(e,{default:function(){return x}});var n=r(861),a=r(439),c=r(757),u=r.n(c),o=r(673),s=r(74),i=r(791),f={SearchForm:"SearchBar_SearchForm__J+i1a",SearchFormButton:"SearchBar_SearchFormButton__J-w2N",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__iHW4N",SearchFormInput:"SearchBar_SearchFormInput__4T9IM"},p=r(87),h=r(686),l=r(184),m=function(t){var e=t.onSubmit,r=(0,p.lr)(),n=(0,a.Z)(r,2),c=n[0],u=n[1],o=c.get("query"),s=(0,i.useState)(null!==o&&void 0!==o?o:""),m=(0,a.Z)(s,2),v=m[0],d=m[1];return(0,l.jsx)("div",{className:f.Searchbar,children:(0,l.jsxs)("form",{className:f.SearchForm,onSubmit:function(t){t.preventDefault(),u({query:v}),""!==v?(e(v),d("")):h.Notify.failure("Write something")},children:[(0,l.jsx)("button",{type:"submit",className:f.SearchFormButton,children:(0,l.jsx)("span",{className:f.SearchFormButtonLabel,children:"Search"})}),(0,l.jsx)("input",{onInput:function(t){d(t.target.value)},className:f.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:v})]})})},v=r(689),d=r(933);var x=function(){var t=(0,i.useState)(""),e=(0,a.Z)(t,2),r=e[0],c=e[1],f=(0,i.useState)(!1),h=(0,a.Z)(f,2),x=h[0],S=h[1],b=(0,i.useState)([]),_=(0,a.Z)(b,2),w=_[0],k=_[1],y=(0,i.useState)(null),Z=(0,a.Z)(y,2),g=Z[0],j=Z[1],F=(0,v.TH)();return(0,i.useEffect)((function(){if(r){var t=function(){var t=(0,n.Z)(u().mark((function t(e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,S(!0),t.next=4,(0,d.OB)(e);case 4:r=t.sent,k(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),j(t.t0.message);case 11:return t.prev=11,S(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}();t(r)}}),[r]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m,{onSubmit:function(t){c(t)}}),0===w.length&&(0,l.jsx)(s.Mg,{}),g&&(0,l.jsx)(s.c0,{}),(0,l.jsxs)("div",{children:[x&&(0,l.jsx)(o.a,{}),(0,l.jsx)("ul",{children:w.map((function(t){return(0,l.jsx)("li",{children:(0,l.jsx)(p.OL,{to:"/movies/".concat(t.id),state:{from:F},children:(0,l.jsx)("p",{children:t.title})})},t.id)}))})]})]})}},933:function(t,e,r){r.d(e,{IH:function(){return l},OB:function(){return p},Y5:function(){return f},es:function(){return h},vw:function(){return i}});var n=r(861),a=r(757),c=r.n(a),u=r(263),o="https://api.themoviedb.org/3",s="bf3651cb61bc1a5b81f0c6f0f7527e55",i=function(){var t=(0,n.Z)(c().mark((function t(){var e,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/trending/all/day?api_key=").concat(s));case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(e,"?api_key=").concat(s));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/search/movie?api_key=").concat(s,"&language=en-US&query=").concat(e));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,n.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(s));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(s));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=729.66e185ea.chunk.js.map